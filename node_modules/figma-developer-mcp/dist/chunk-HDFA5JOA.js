import l from"fs";import $ from"path";async function h(n,a,e){try{l.existsSync(a)||l.mkdirSync(a,{recursive:!0});let t=$.join(a,n),r=await fetch(e,{method:"GET"});if(!r.ok)throw new Error(`Failed to download image: ${r.statusText}`);let o=l.createWriteStream(t),i=r.body?.getReader();if(!i)throw new Error("Failed to get response body");return new Promise((m,c)=>{let u=async()=>{try{for(;;){let{done:s,value:g}=await i.read();if(s){o.end();break}o.write(g)}}catch(s){o.end(),l.unlink(t,()=>{}),c(s)}};o.on("finish",()=>{m(t)}),o.on("error",s=>{i.cancel(),l.unlink(t,()=>{}),c(new Error(`Failed to write image: ${s.message}`))}),u()})}catch(t){let r=t instanceof Error?t.message:String(t);throw new Error(`Error downloading image: ${r}`)}}function d(n){if(typeof n!="object"||n===null)return n;if(Array.isArray(n))return n.map(e=>d(e));let a={};for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e)){let t=n[e],r=d(t);r!==void 0&&!(Array.isArray(r)&&r.length===0)&&!(typeof r=="object"&&r!==null&&Object.keys(r).length===0)&&(a[e]=r)}return a}function p(n="var"){let a="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",e="";for(let t=0;t<6;t++){let r=Math.floor(Math.random()*a.length);e+=a[r]}return`${n}_${e}`}function w(n,{ignoreZero:a=!0,suffix:e="px"}={}){let{top:t,right:r,bottom:o,left:i}=n;if(!(a&&t===0&&r===0&&o===0&&i===0))return t===r&&r===o&&o===i?`${t}${e}`:r===i?t===o?`${t}${e} ${r}${e}`:`${t}${e} ${r}${e} ${o}${e}`:`${t}${e} ${r}${e} ${o}${e} ${i}${e}`}function f(n){return n.visible??!0}function S(n){if(isNaN(n))throw new TypeError("Input must be a valid number");return Number(Number(n).toFixed(2))}export{h as a,d as b,p as c,w as d,f as e,S as f};
